function init(){PG.bind(),Module.bind(),$(window).trigger("hashchange")}var PG=new $P({"default":{uuid:"538054ebab18e5515c68a7eb"},bind:function(){this.bindhash(),$(PG).on("statechange",Module.onPageStateChange)},once:function(e,a){PG[e]||(PG[e]=a())}}),Module=$.extend(new $M,{onPageStateChange:function(){var e=PG.state;Module.applyPageState(e),Module.loadPageData(e)},applyPageState:function(){},loadPageData:function(e){$("div.main").spin(),$.getJSON("/cagstore/"+e.uuid+"/meta.json",function(a){var n=a;document.title="中华珍宝馆-"+n.age+"-"+n.author+"-"+n.paintingName;var t=n.size.width,i=n.size.height,o=L.CRS.Simple.pointToLatLng(L.point([t,0]),18),l=L.CRS.Simple.pointToLatLng(L.point([0,i]),18),d=L.latLngBounds(l,o);Module.map&&Module.map.remove();var u=Module.map=L.map("map",{maxZoom:n.maxlevel,minZoom:n.minlevel,maxBounds:d,crs:L.CRS.Simple}).setView([0,0],n.minlevel),s=e.layer||"";Module.tileLayer=L.tileLayer("/cagstore/"+e.uuid+"/{z}"+s+"/{x}_{y}.jpg",{bounds:d,reuseTiles:!0}).addTo(u),Module.isWebview(e)?Module.map.removeControl(Module.map.attributionControl):u.attributionControl.setPrefix('<a href="/main.html"><span class="glyphicon glyphicon-home"></span>中华珍宝馆</a>  | <a href="#share" data-toggle="modal" data-target="#share"><span class="glyphicon glyphicon-share"></span>分享到...</a> |  <a href="#about" data-toggle="modal" data-target="#about"><span class="glyphicon glyphicon-info-sign"></span>关于</a>'),$("div.main").spin(!1)})},bind:function(){},isWebview:function(e){return e.view?/^webview/.test(e.view):!1}});$(document).ready(init);